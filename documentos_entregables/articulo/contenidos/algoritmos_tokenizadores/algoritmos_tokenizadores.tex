%
% Sección de algoritmos tokenizadores.
% Artículo.
% Proyecto Lovelace.
%

\section{Algoritmos tokenizadores}

Como el enfoque de este artículo es ver a la tokenización como un servicio
(figura \ref{figura:arquitectura_tokenizacion}), la interfaz para los procesos
de tokenización y detokenización, desde el punto de vista de los usuarios del
servicio, es sumamente simple: el proceso de tokenización es una función $ E:
\mathcal{X} \rightarrow \mathcal{Y} $ y el de detokenización es  simplemente la
función inversa $ D: \mathcal{Y} \rightarrow \mathcal{X} $, en donde $
\mathcal{X} $ y $ \mathcal{Y} $ son los espacios de números de tarjetas y
tokens, respectivamente.

Los números de tarjetas bancarias cuentan con entre 12 y 19 dígitos, y se
encuentran normados por el estándar ISO/IEC-7812~\cite{iso_7812}. El último
dígito se trata de un código de verificación calculado mediante el algoritmo de
Luhn; este dígito hace que \textsc{algoritmoDeLuhn($ x $) = 0}. Para poder
diferenciar a los números de tarjeta válidos de los tokens se establece que,
para los tokens, el dígito verificador haga que
\textsc{algoritmoDeLuhn($ x $) = 1}.

El PCI SSC (\textit{Payment Card Industry Security Standard Council}) establece
en sus guías de tokenización la siguiente clasificación para los algoritmos
tokenizadores~\cite{pci_tokens}:

\begin{itemize}
  \item Métodos reversibles. Aquellos para los cuales es posible regresar al
    número de tarjeta a partir del token.
    \begin{itemize}
      \item Criptográficos. Ocupan un esquema de cifrado simétrico: el número
        de tarjeta y una llave entran al mecanismo de tokenización para obtener
        un token; el token y la misma llave entran al mecanismo de
        detokenización para obtener el número de tarjeta original.
      \item No criptográficos. Ocupan una base de datos para guardar las
        relaciones entre números de tarjetas y tokens; el proceso de
        detokenización simplemente es una consulta a a la base de datos.
    \end{itemize}
  \item Métodos irreversibles. Aquellos en los que no es posible regresar al
    número de tarjeta original a partir del token.
    \begin{itemize}
      \item Autenticable. Permiten validar cuando un token dado corresponde a
        un número de tarjeta dado.
      \item No autenticable. No permiten hacer la validación anterior.
    \end{itemize}
\end{itemize}

% TODO: mejorar crítica a segunda categoría.

La denominación \textit{no criptográficos} resulta totalmente confusa, pues en
realidad todos los métodos conocidos que caen en las categorías de arriba ocupan
primitivas criptográficas. La segunda categoría (los irreversibles) carece de
utilidad para aplicaciones que procesan pagos con tarjetas de crédito, pues la
habilidad de regresar al número de tarjeta a partir de su token es uno de los
requerimientos principales para los sistemas tokenizadores. Por lo anterior, en
este trabajo se propone una clasificación distinta:

\begin{itemize}
  \item Métodos criptográficos. Todos aquellos que ocupan herramientas
    critográficas.
    \begin{itemize}
      \item Reversibles. Ocupan un esquema de cifrado simétrico: el número
        de tarjeta y una llave entran al mecanismo de tokenización para obtener
        un token; el token y la misma llave entran al mecanismo de
        detokenización para obtener el número de tarjeta original.
      \item Irreversibles. Ocupan herramientas criptográficas para generar el
        token de un número de tarjeta. Ocupan herraminetas externas, como una base de datos, para guardar las relaciones entre tokens y números de tarjetas.
    \end{itemize}
  \item Métodos no criptográficos. Aquellos posibles métodos que no ocupen
    herramientas relacionadas con la criptografía; por ejemplo, un generador de
    números realmente aleatorio (TRNG, \textit{True Random Number Generator}).
\end{itemize}

\subimport{/}{tkr}
\subimport{/}{ffx}
\subimport{/}{bps}
\subimport{/}{ahr}
%\subimport{/}{drbg}

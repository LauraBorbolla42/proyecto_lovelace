%
% Plantilla para definición de reglas de negocio.
% Proyecto Lovelace.
%

% Contador
\newcounter{contador_reglas_de_negocio}[chapter]

% Comando para reglas de negocio
% #1 -> Etiqueta (opcional)
% #2 -> Título de la regla.
% #3 -> Descripción.

\newcommand{\reglaDeNegocio}[3]
[rn:\formatearnumero{contador_reglas_de_negocio}]
{
  % Configuración
  \refstepcounter{contador_reglas_de_negocio}
  \setlength{\separacionAnterior}{\parskip}
  \setlength{\parskip}{0em}
  \setitemize{
    leftmargin = 4em}

  % Código efectivo
  \vspace{1.0em}
  \begin{unidadirrompible}
    \noindent
    \textbf{\hypertarget{#1}
      {RN\prefijo-\formatearnumero{contador_reglas_de_negocio}~#2}.}
    \pdfbookmark[3]
      {RN\prefijo-\formatearnumero{contador_reglas_de_negocio}~#2}{#1}
    \par%
    \nopagebreak[4]
    \begin{hangparas}{2em}{0}
      #3
    \end{hangparas}
  \end{unidadirrompible}

  % Estado previo
  \setlength{\parskip}{\separacionAnterior}
  \setitemize{
    leftmargin = 2em}
}

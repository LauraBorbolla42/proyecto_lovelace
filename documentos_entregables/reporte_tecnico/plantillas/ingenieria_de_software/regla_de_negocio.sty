%
% Plantilla para definición de reglas de negocio.
% Proyecto Lovelace.
%

% Contador
\newcounter{contador_reglas_de_negocio}[chapter]

% Comando para reglas de negocio
% #1 -> Etiqueta (opcional)
% #2 -> Título de la regla.
% #3 -> Descripción.

\newcommand{\reglaDeNegocio}[3]
[rn:\formatearnumero{contador_reglas_de_negocio}]{%
  %
  % Configuración
  %
  \refstepcounter{contador_reglas_de_negocio}%
  \setlength{\separacionAnterior}{\parskip}%
  \setlength{\parskip}{0em}%
  \setitemize{%
    leftmargin = 4em,%
    nosep}%
  \renewcommand{\etiqueta}{%
    RN\prefijo-\formatearnumero{contador_reglas_de_negocio}~#2}%
  %
  % Código efectivo
  %
  \pdfbookmark[3]{\etiqueta}{#1}
  \vspace{1.0em}%
  \begin{unidadirrompible}%
    \noindent%
    \textbf{\hypertarget{#1}{\etiqueta}.}\par%
    \begin{hangparas}{2em}{0}%
      #3\par%
    \end{hangparas}%
  \end{unidadirrompible}
  \pagebreak[3]%
  %
  % Estado previo
  %
  \setlength{\parskip}{\separacionAnterior}%
  \setitemize{}%
  \renewcommand{\etiqueta}{}}

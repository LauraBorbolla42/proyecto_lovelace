%
% Plantilla para dependencias
% Proyecto Lovelace.
%

% Contador de dependencias:
\newcounter{contador_dependencias}[chapter]

% Comando para definir una nueva dependencia:
% 1. Etiqueta (opcional).
% 2. Nombre de categoría.
% 3. Nombre de dependencia (con versión).
% 4. Licencia.
% 5. URL de página oficial.
% 6. Descripción.

\newcommand{\dependencia}[6]
[dep:\formatearnumero{contador_dependencias}]{%
  %
  % Configuración
  %
  \refstepcounter{contador_dependencias}%
  \setlength{\separacionAnterior}{\parskip}%
  \setlength{\parskip}{0em}%
  \renewcommand{\etiqueta}%
    {DEP\prefijo-\formatearnumero{contador_dependencias}~#2:~#3}%
  %
  % Código efectivo
  %
  \pdfbookmark[3]{\etiqueta}{#1}%
  \pagebreak[3]%
  \vspace{\separacionAnterior}%
  \noindent%
  \textbf{\hypertarget{#1}{\etiqueta}.}\par%
  \nopagebreak[4]%
  \noindent%
  \textbf{Licencia:} #4\par%
  \nopagebreak[4]%
  \noindent%
  \textbf{Página oficial:} \url{#5}\par%
  \nopagebreak[4]%
  \noindent%
  #6\par%
  \pagebreak[3]%
  %
  % Estado previo
  %
  \setlength{\parskip}{\separacionAnterior}%
  \renewcommand{\etiqueta}{}}

%
% Lista de requerimientos funcionales,
% Capítulo de análisis y diseño de api web.
% Proyecto Lovelace
%

\subsubsection{Funcionales}

% Estos son los requerimientos que el analista «deduce» de su plática con el
% cliente. Teóricamente antes de estos tendrían que ir lo de «alto nivel»,
% en donde se exprese directamente las palabras del cliente, pero como eso
% pasó en mi mente, o no pasó en absoluto, van directamente los de bajo
% nivel.
% Requerimientos de bajo nivel:

\requerimiento[rq:iniciar_sesion]
{Iniciar sesión}
{
  La aplicación web debe permitir a los usuarios \textbf{cliente} y
  \textbf{administrador} iniciar sesión. Deben proporcionar los siguientes
  datos:
  \begin{itemize}
    \item Correo electrónico
    \item Contraseña
  \end{itemize}

  % TODO: ¿énfasis con negritas o itálicas?

  \begin{hangparas}{2em}{0}
    \subrequerimiento[rq:validar_clientes]
    {Validar estado de clientes}
    {
      Aquellos \textit{clientes} que se encuentren en alguno de los siguientes
      estados no deben poder iniciar sesión: \textit{no verificado},
      \textit{verificado}, \textit{rechazado} o \textit{en lista negra}.
    }
  \end{hangparas}
}

\requerimiento[rq:cierre_de_sesion]
{Cerrar sesión}
{
  La aplicación web debe permitir a los usuarios \textbf{cliente} y
  \textbf{administrador} cerrar sesión.
}

\requerimiento[rq:registrar_cliente]
{Registrar cliente}
{
  La aplicación web debe permitir a los usuarios \textbf{visitante}
  registrarse; el visitante debe proporcionar los siguientes datos:
  \begin{itemize}
    \item Correo electrónico válido
    \item Contraseña
    \item Confirmación de contraseña
  \end{itemize}
}

\requerimiento[rq:verificar_cliente]
{Verificar cliente}
{
  La aplicación web debe permitir a un usuario \textbf{cliente} que verifique
  su correo al enviarle un enlace al registrarse.
}

\requerimiento[rq:aprobar_cliente]
{Aprobar cliente}
{
  La aplicación web debe permitir a un usuario \textbf{administrador} aprobar
  y rechazar usuarios de tipo \textbf{cliente}.
}

\requerimiento[rq:mostrar_promocion]
{Mostrar promoción del servicio tokenizador}
{
  La aplicación web debe tener una página que promocione el servicio de
  tokenización, esta página debe explicar qué es la tokenización y cómo
  funcionan los algoritmos implementados.
}

\requerimiento[rq:mostrar_documentacion]
{Mostrar documentación del servicio tokenizador}
{
  La aplicación web debe tener una página donde se muestre la documentación de la
  API.
}

\requerimiento[rq:tokenizar_tarjeta]
{Tokenizar número de tarjeta}
{
  La aplicación web debe permitir, a un cliente, realizar la tokenización de un
  número de tarjeta. El cliente debe proporcionar los siguientes datos:
  \begin{itemize}
    \item Número de tarjeta a tokenizar.
    \item Algoritmo tokenizar.
  \end{itemize}
  La operación regresa un token.

  Los algoritmos disponibles son:
  \begin{itemize}
    \item BPS
    \item FFX
    \item TKR
    \item AHR
    \item DRBG
  \end{itemize}
}

\requerimiento[rq:detokenizar_token]
{Detokenizar token}
{
  La aplicación web debe permitir, a un cliente, realizar la detokenización de
  un token. El cliente debe proporcionar los siguientes datos:
  \begin{itemize}
    \item Token
    \item Algoritmo tokenizador
  \end{itemize}
  La operación regresa un número de tarjeta.
}

\requerimiento[rq:recordatorio_refresco]
{Recordatorio de refresco de llaves}
{
  El sistema debe enviar una notificación diaria a los clientes cuyo
  criptoperiodo haya caducado.
}

\requerimiento[rq:refrescar_llaves]
{Refrescar llaves}
{
  La aplicación web debe permitir, a un cliente, realizar el refresco de sus
  llaves.
}

%
% Lista de requerimientos para sistema tokenizador,
% Capítulo de análisis y diseño de api web.
% Proyecto Lovelace.
%

\subsection{Requerimientos}

% Estos son los requerimientos que el analista «deduce» de su plática con el
% cliente. Teóricamente antes de estos tendrían que ir lo de «alto nivel»,
% en donde se exprese directamente las palabras del cliente, pero como eso
% pasó en mi mente, o no pasó en absoluto, van directamente los de bajo
% nivel.
% Requerimientos de bajo nivel:

\requerimiento[rq_api:actores]{API}
{Sobre los actores del sistema}
{
  La aplicación debe contemplar las acciones de tres tipos de actores: un
  \textit{visitante}, que representa a los posibles usuarios que visitan la
  página de promoción del sistema; un \textit{usuario}, que utiliza la interfaz
  web del servicio de tokenización; un \textit{administrador}, que representa a
  la entidad (empresa u organización) que ofrece el servicio de tokenización
  (ver regla de negocio \hipervinculo{rn:servicio_tokenizacion}).

  \subrequerimiento[rq_api:visitante]{API}
  {Sobre los visitantes}
  {
    Los \textit{visitantes} deben poder acceder solamente al sitio público de la
    aplicación: \hipervinculo{iu:bienvenida}, \hipervinculo{iu:documentacion},
    \hipervinculo{iu:iniciar_sesion}, \hipervinculo{iu:registrarse}.
  }

  \subrequerimiento[rq_api:usuario]{API}
  {Sobre los usuarios}
  {
    Los \textit{usuarios} deben poder acceder al sitio público de la aplicación
    (\hipervinculo{rq_api:visitante}) y al sitio de administración de tokens:
    \hipervinculo{iu:inicio_usuario}, \textit{}
  }

  \subrequerimiento[rq_api:administrador]{API}
  {Sobre los administradores}
  {

  }

  \subrequerimiento[rq_api:cambios_de_actores]{API}
  {Flujos de actores en la aplicación}
  {
    En la figura \ref{estados_actores} se muestra un diagrama de estados con
    la relación de los actores con la aplicación. Las transiciones representan
    los casos de uso que hacen cambiar al tipo de actor.

    Al abrir la aplicación toda persona es un \textit{visitante}. Los
    \textit{usuarios} y los \textit{administradores} necesitan iniciar sesión
    para ser identificados como tal por el sistema. Un \textit{visitante} puede
    pasar a ser actor mediante el caso de uso \hipervinculo{cu:registrarse}.

    Este requerimiento está relacionado con las reestricciones impuestas por los
    requerimientos \hipervinculo{rq_api:registro_de_actores} y
    \hipervinculo{rq_api:identificacion_de_actores}.
  }
}

% TODO:
% Poner numeración a los casos de uso de las transiciones.

\begin{figure}
  \begin{center}
    \includegraphics[width=0.8\linewidth]{diagramas/flujo_de_actores.png}
    \caption{Diagrama de estados de actores.}
    \label{estados_actores}
  \end{center}
\end{figure}

% Depende de rq_api:actores
\requerimiento[rq_api:interfaces_de_usuario]{API}
{Sobre las interfaces gráficas del sistema}
{
  La aplicación web debe contar con las interfaces especificadas en los
  siguientes subrequerimientos.

  \subrequerimiento[rq_api:sitio_publico]{API}
  {Sitio público de aplicación}
  {
    Estas páginas deben ser accesibles para los tres actores definidos en
    \hipervinculo{rq_api:actores}.

    \subsubrequerimiento[rq_api:inicio_sitio_publico]{API}
    {Inicio de sitio público}
    {
      Página que debe promocionar el servicio de tokenización. Debe de explicar
      qué es la tokenización y qué es lo que hace el servicio ofrecido. Esta
      interfaz se muestra en \hipervinculo{iu:bienvenida}.
    }

    \subsubrequerimiento[rq_api:documentacion]{API}
    {Documentación}
    {
      Página que debe explicar como utilizar la \gls{gl:api} web del
      servicio de tokenización. Esta interfaz se muestra en
      \hipervinculo{iu:documentacion}.
    }
  }

  \subrequerimiento[rq_api:administracion_de_tokens]{API}
  {Sitio de administración de tokens}
  {

  }

  \subrequerimiento[rq_api:administracion_de_usuarios]{API}
  {Sitio de administración general}
  {

  }
}

\requerimiento[rq_api:identificacion_de_actores]{API}
{Sobre la identificación de los actores}
{
  Para ser vistos como usuarios o administradores, los actores deben
  pasar por un proceso de identificación. La identificación es mediante
  un nombre de usuario (\hipervinculo{rn:nombres_de_usuario}) y una
  contraseña {\hipervinculo{rn:formato_de_contrasenias}}.
}

\requerimiento[rq_api:registro_de_actores]{API}
{Sobre el registro de usuarios y administradores}
{
  El conjunto de usuarios debe poder crecer desde la aplicación web, esto es,
  se deben poder registrar nuevos usuarios. El conjunto de administradores es
  fijo desde el inicio, esto es, no se pueden registrar más administradores
  desde la aplicación web.
}

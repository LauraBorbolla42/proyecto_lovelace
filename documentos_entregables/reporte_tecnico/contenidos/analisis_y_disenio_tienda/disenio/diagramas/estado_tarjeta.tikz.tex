%
% Diagrama de estados de una tarjeta,
% Capítulo de análisis y diseño para una librería.
% Proyecto Lovelace.
%

\begin{tikzpicture}[
  estado/.style = {
    rectangle,
    draw = black,
    thin,
    inner sep = 4mm,
    text width = 25mm,
    align = center,
    minimum height = 1.5cm},
  estado_inicial/.style = {
    circle,
    minimum size = 15pt,
    fill = black},
  etiqueta_transicion/.style = {
    align = center,
    text width = 15mm}]

  % Estados
  \node[estado_inicial]
    (estado_inicial) {};
  \node[estado]
    (activo)
    [right = 2.2in of estado_inicial]
    {Activa};
  \node[estado]
    (inactivo)
    [below = 0.7in of activo]
    {inactivo};

% Transiciones
  \draw[-Stealth]
    (estado_inicial.east)
    --
    node[
      etiqueta_transicion,
      text width = 1.6in,
      above]
      {\hipervinculo{lib_cu:agregar_forma_de_pago}}
    (activo.west);

  \draw[-Stealth]
    (activo.east)
    --
    ($(activo.east) + (+0.7in, 0)$)
    --
    node[
      etiqueta_transicion,
      text width = 2in,
      right]
      {\hipervinculo{lib_cu:eliminar_forma_de_pago}}
    ($(inactivo.east) + (+0.7in, 0)$)
    --
    (inactivo.east);

  \draw[-Stealth]
    ($(inactivo.north) + (-0.3in, 0)$)
    --
    node[
      etiqueta_transicion,
      text width = 2in,
      left]
      {\hipervinculo{lib_cu:agregar_forma_de_pago}}
    ($(activo.south) + (-0.3in, 0)$);

\end{tikzpicture}

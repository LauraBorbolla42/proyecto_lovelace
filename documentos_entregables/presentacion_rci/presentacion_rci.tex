%
% Presentación para congreso.
% Proyecto Lovelace.
%

\documentclass{beamer}
\usepackage{formato}
\newcommand{\Titulo}{Un vistazo a la tokenización}
\newcommand{\Fecha}{Puebla, 14 de octubre de 2018}
\usepackage{formato_presentaciones}

\renewcommand{\Autor}{Daniel Ayala Zamorano \\\vspace{-2mm}
  {\tiny \texttt{daz23ayala@gmail.com}} \\
  Laura Natalia Borbolla Palacios \\\vspace{-2mm}
  {\tiny \texttt{ln.borbolla.42@gmail.com}} \\
  Ricardo Quezada Figueroa \\\vspace{-2mm}
  {\tiny \texttt{qf7.ricardo@gmail.com}} \\
  Sandra Díaz Santiago \\\vspace{-2mm}
  {\tiny \texttt{sdiazs@gmail.com}}}

\setbeameroption{show notes}

\usepackage[caption=false,font=footnotesize]{subfig}
\usepackage{tikz}
\usetikzlibrary{
  arrows.meta,
  decorations.pathmorphing,
  backgrounds,
  positioning,
  calc,
  scopes,
  shapes}

\tikzset{
  font=\tiny}

\begin{document}

  {\setbeamertemplate{footline}{}
  \frame{\titlepage}}

  \begin{frame}
    \frametitle{Contenido}
    \setcounter{tocdepth}{1}
    \tableofcontents
  \end{frame}

  % Espacio entre párrafos
  \setlength{\parskip}{0.5em}

  \section{El problema de la protección de datos bancarios}

  \begin{frame}{El problema de la protección de datos bancarios}
    \begin{itemize}
      \item El crecimiento del comercio en línea, aunado a sistemas débilmente
        protegidos propició un incremento en los robos de datos bancarios.
      \item En el 2004 se publicó el PCI DSS\footnotemark \cite{pci_dss}.
      \item Hasta este momento el enfoque era proteger la información en donde
        sea que se encuentre.
      \item A pesar de la publicación del estándar, las filtraciones de datos
        no han cesado.

    \end{itemize}
    \footnotetext{\textit{Payment Card Industry, Data Security Standard}}
  \end{frame}

  \section{¿Qué es la tokenización?}

  \begin{frame}{¿Qué es la tokenización?}
    \begin{itemize}
      \item Es la sustitución de datos sensibles por valores representativos
        sin una relación directa.
      \item Existen muchas empresas que proveen el servicio de tokenización,
        pero lo hacen sin detallar la forma en la que se
        realiza~\cite{shif4_uno, braintree_uno, securosis}.
      \item En 2011, el PCI publicó su guía de tokenización~\cite{pci_tokens}.
    \end{itemize}

    %
    % Explicación de diagrama:
    % 1. El cliente introduce en la página de la tienda sus datos bancarios,
    %    entre los que va el número de tarjeta.
    % 2. La tienda hace una petición al sistema tokenizador. Es importante que
    %    la tienda no guarde el número de tarjeta del cliente.
    % 3. El sistema tokenizador genera un nuevo token; guarda (si es un método
    %    reversible) en su base de datos el número de tarjeta junto con el token
    %    generado; regresa a la tienda el token generado.
    %    [Opcional] 2.1 Si se está realizando una transacción bancaria, el
    %    sistema tokenizador manda al banco la solicitud de la transacción al
    %    entorno bancario.
    %    [Opcional] 2.2 El banco regresa el resultado de la operación.
    % 4. La tienda guarda el token y lo usa como si fuera el número de tarjeta.
    %    Regresa al cliente el resultado de su transacción.
    %

    \begin{figure}
      \centering
      \begin{tikzpicture}[
        entorno/.style={
          rectangle,
          draw = black,
          thin,
          inner sep = 1mm,
          text width = 15mm,
          align = center,
          minimum height = 1.0cm},
        etiqueta/.style={
          align = center
        }]

        \node[entorno]
          (usuario)
          {Usuario};
        \node[entorno]
          (tienda)
          [right = of usuario]
          {Tienda en línea};
        \node[entorno]
          (sistema_tokenizador)
          [right = of tienda]
          {Sistema tokenizador};
        \node[entorno]
          (banco)
          [right = of sistema_tokenizador]
          {Entorno bancario};

        \draw[-Stealth]
          ($(usuario.north) + (0.1in, 0)$)
          --
          ($(usuario.north) + (0.1in, 0.1in)$)
          --
          node[
            etiqueta,
            above]
            {1. Tarjeta: \\ \texttt{1234567891234567}}
          ($(tienda.north) + (-0.1in, 0.1in)$)
          --
          ($(tienda.north) + (-0.1in, 0)$);

        \draw[-Stealth]
          ($(tienda.north) + (0.1in, 0)$)
          --
          ($(tienda.north) + (0.1in, 0.1in)$)
          --
          node[
            etiqueta,
            above]
            {2. Tarjeta: \\ \texttt{1234567891234567}}
          ($(sistema_tokenizador.north) + (-0.1in, 0.1in)$)
          --
          ($(sistema_tokenizador.north) + (-0.1in, 0)$);

        \draw[-Stealth]
          ($(sistema_tokenizador.north) + (0.1in, 0)$)
          --
          ($(sistema_tokenizador.north) + (0.1in, 0.1in)$)
          --
          node[
            etiqueta,
            above]
            {2.1. Tarjeta: \\ \texttt{1234567891234567}}
          ($(banco.north) + (-0.1in, 0.1in)$)
          --
          ($(banco.north) + (-0.1in, 0)$);

        \draw[-Stealth]
          ($(banco.south) + (-0.1in, 0)$)
          --
          ($(banco.south) + (-0.1in, -0.1in)$)
          --
          node[
            etiqueta,
            below]
            {2.2 Resultado de \\ operación}
          ($(sistema_tokenizador.south) + (0.1in, -0.1in)$)
          --
          ($(sistema_tokenizador.south) + (0.1in, 0)$);

        \draw[-Stealth]
          ($(sistema_tokenizador.south) + (-0.1in, 0)$)
          --
          ($(sistema_tokenizador.south) + (-0.1in, -0.1in)$)
          --
          node[
            etiqueta,
            below]
            {3. Token: \\ \texttt{1234567891234567}}
          ($(tienda.south) + (0.1in, -0.1in)$)
          --
          ($(tienda.south) + (0.1in, 0)$);

        \draw[-Stealth]
          ($(tienda.south) + (-0.1in, 0)$)
          --
          ($(tienda.south) + (-0.1in, -0.1in)$)
          --
          node[
            etiqueta,
            below]
            {4. Resultado de \\ operación}
          ($(usuario.south) + (0.1in, -0.1in)$)
          --
          ($(usuario.south) + (0.1in, 0)$);

      \end{tikzpicture}
      \caption{Arquitectura típica de un sistema tokenizador.}
    \end{figure}
  \end{frame}

  \section{Clasificación del PCI}

  \begin{frame}{Clasificación de los algoritmos tokenizadores}
    \begin{center}
      \begin{columns}
        \begin{column}{0.5\textwidth}
          Clasificación del PCI \cite{pci_tokens}:
          \vspace{1.0em}
          \begin{itemize}
            \item Reversibles
            \begin{itemize}
              \item Criptográficos
              \item No criptográficos
            \end{itemize}
            \item Irreversibles
            \begin{itemize}
              \item Autenticables
              \item No autenticables
            \end{itemize}
          \end{itemize}
        \end{column}
        \begin{column}{0.5\textwidth}
          Clasificación propuesta:
          \vspace{1.0em}
          \begin{itemize}
            \item Criptográficos
            \begin{itemize}
              \item Reversibles
              \item Irreversibles
            \end{itemize}
            \item No criptográficos
            \begin{itemize}
              \item[]
              \item[]
            \end{itemize}
          \end{itemize}
        \end{column}
      \end{columns}
    \end{center}
  \end{frame}

  \section{Métodos reversibles: FFX y BPS}

  \begin{frame}{Métodos reversibles: FFX y BPS}

    \begin{itemize}
      \item Métodos que utilizan cifrados que preservan el formato.
      \item Cifran la tarjeta y descifran el token.
      \item Se volvieron estándares en 2016 y fueron renombrados por el NIST
        a FF1 y FF3 respectivamente.
      \item Están basados en redes Feistel.

    \end{itemize}

  \end{frame}

  \section{Métodos irreversibles: TKR, AHR y DRBG}

  \begin{frame}{Métodos irreversibles: TKR, AHR y DRBG}
    \begin{itemize}
      \item Utilizan varias primitivas criptográficas (cifrados por bloque,
        funciones hash, generadores pseudoaleatorios).
      \item Requieren guardar la relación tarjeta-token.
      \item Su desempeño está ligado a la base de datos.
    \end{itemize}
  \end{frame}

  \section{Resultados y conclusiones}

  \begin{frame}{Resultados}
    \begin{figure}[H]
    \centering
    \subfloat[Tokenización y detokenización]{
      \includegraphics[width=0.5\linewidth]
        {articulo-rci/tiempos_unitarios.png}}
    \subfloat[Generación de tokens]{
      \includegraphics[width=0.5\linewidth]
        {articulo-rci/tiempos_tokenizacion.png}}
    \end{figure}
  \end{frame}

  \begin{frame}{Conclusiones}
    \begin{itemize}
      \item La tokenización es una aplicación de la criptografía.
      \item La denominación \textit{no criptográfica} del PCI es contradictoria.
    \end{itemize}
  \end{frame}

  \begin{frame}[allowframebreaks]{Bibliografía}
    \printbibliography
  \end{frame}

  % Espacio entre párrafos
  \setlength{\parskip}{0.0em}

  {\setbeamertemplate{footline}{}
  \frame{\titlepage}}

\end{document}

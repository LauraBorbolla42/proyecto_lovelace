%
% Requerimientos de tokens, análisis y diseño de generación de tokens.
% Proyecto Lovelace.
%

\subsection{Requerimientos}

En \cite{pci_tokens}, el \gls{gl:pci} \gls{gl:ssc} divide a los
\glspl{gl:token} en reversibles e irreversibles. A su vez, los reversibles se
dividen en criptográficos y en no criptográficos; mientras que los
irreversibles se dividen en autenticables y no autenticables (figura
\ref{fig:division_tokens}).

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=0.75\linewidth]
      {contenidos/analisis_y_disenio/tokens/requerimientos/diagramas/clasificacion.png}
    \caption{Clasificación de los \glspl{gl:token}.}
    \label{fig:division_tokens}
  \end{center}
\end{figure}

En esta sección se explica cada una de las categorías y se analizan los
requerimientos que deben tener. Para comenzar, se enlistan los requerimientos
aplicables a todos los \glspl{gl:token}, sin importar en qué categoría estén:

%\requerimiento{tokens}{seguridad}{
%  Un adversario con acceso a los \glspl{gl:token} no debe de ser capaz de
%  obtener los \gls{gl:pan} asociados.
%}

\begin{itemize}
  \item Un adversario con acceso a los \glspl{gl:token} no debe de ser capaz de
    obtener los \gls{gl:pan} asociados.
  \item Todos los \glspl{gl:token} deben poder distinguirse de cualquier
    \gls{gl:pan} válido.
\end{itemize}

Los \glspl{gl:token} irreversibles no pueden, bajo ninguna circunstancia, ser
reconvertidos al \gls{gl:pan} original. Esta restricción aplica tanto para
cualquier entidad en el entorno del negocio (comerciante, proveedor de
\glspl{gl:token}, banco) como para cualquier posible atacante. Dados un
\gls{gl:pan} y un \gls{gl:token}, los identificables permiten validar cuando el
primero fue utilizado para la creación del segundo, mientras que los no
identificables, no.

% TODO: ¿Para qué demonios sirven los no identificables?

% TODO: este párrafo me está dando problemas. No quiero copiar tal cuál la
% clasificación del PCI sin manifestar disconformidad, pero tampoco quiero
% entrar en demasiados detalles aún sobre las propias implementaciones
% (las cuales, evidentemente, sí son criptográficas).

La clasificación del \gls{gl:pci} \gls{gl:ssc} con respecto a los reversibles
resulta un poco confusa (esto ya ha sido señalado antes, \cite{doc_sandra}).
Establece que los criptográficos son generados utilizando
\gls{gl:criptografia_fuerte}, el \gls{gl:pan} nunca se almacena, solamente se
guarda una llave; los no criptográficos guardan la relación entre
\glspl{gl:token} y \gls{gl:pan} en una base de datos. El problema está en que
no se menciona \textit{cómo} generar los no criptográficos. A pesar del nombre,
los métodos más comunes para esta categoría ocupan primitivas criptográficas
(e. g. generadores pseudoaleatorios); además de que, en una implementación
real, para poder cumplir con el \gls{gl:pci} \gls{gl:dss}, la propia base de
datos debe de estar cifrada \cite{pci_dss}.

\input{contenidos/analisis_y_disenio/tokens/requerimientos/irreversibles.tex}
\input{contenidos/analisis_y_disenio/tokens/requerimientos/criptograficos_reversibles.tex}
\input{contenidos/analisis_y_disenio/tokens/requerimientos/no_criptograficos_reversibles.tex}

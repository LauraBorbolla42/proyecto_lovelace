%
% Diagrama de casos de uso de la tienda en línea,
% Proyecto Lovelace.
%

\resizebox{1\textwidth}{!}{%
  \begin{tikzpicture}
    \umlactor[x=13, y=4.25, scale=1.2]{Visitante}
    \umlactor[x=-3, y=4.00, scale=1.2]{Cliente}

    \begin{umlsystem}{Tienda de libros}

      % Casos de uso %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
      % CU de un visistante
      \umlusecase[x=10, y=07, width=2.8cm, scale=0.7,
        name=registrar_cliente, fill=white]
        {\textbf{REGISTRAR CLIENTE}}

      \umlusecase[x=10, y=05,  width=2.8cm, scale=0.7,
        name=iniciar_sesion, fill=white]
        {\textbf{INICIAR SESION}}

      % CU de un cliente
      \umlusecase[x=03, y=07, width=2.8cm, scale=0.7,
        name=agregar_direccion_entrega, fill=white]
        {\textbf{AGREGAR DIRECCION DE ENTREGA}}

      \umlusecase[x=00, y=06, width=2.8cm, scale=0.7,
        name=eliminar_direccion_entrega, fill=white]
        {\textbf{ELIMINAR DIRECCION DE ENTREGA}}

      \umlusecase[x=03, y=05, width=2.8cm, scale=0.7,
        name=actualizar_informacion, fill=white]
        {\textbf{ACTUALIZAR INFORMARCION PERSONAL}}

      \umlusecase[x=00, y=04, width=2.8cm, scale=0.7,
        name=agregar_forma_de_pago, fill=gray!20]
        {\textbf{AGREGAR FORMA DE PAGO}}

      \umlusecase[x=03, y=03, width=2.8cm, scale=0.7,
        name=eliminar_forma_de_pago, fill=white]
        {\textbf{ELIMINAR FORMA DE PAGO}}

      \umlusecase[x=00, y=02, width=2.8cm, scale=0.7,
        name=cerrar_sesion, fill=white]
        {\textbf{CERRAR SESION}}

      \umlusecase[x=03, y=01, width=2.8cm, scale=0.7,
        name=comprar, fill=gray!20]
        {\textbf{COMPRAR}}

      \umlusecase[x=10, y=03, width=2.8cm, scale=0.7,
        name=eliminar_libro, fill=white]
        {\textbf{QUITAR LIBRO}}

      \umlusecase[x=10, y=01, width=2.8cm, scale=0.7,
        name=agregar_libro, fill=white]
        {\textbf{AGREGAR LIBRO}}

      %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

      % Relaciones entre actor y caso de uso %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
      % Relaciones entre cliente y sus casos de uso.
      \umlassoc{Cliente}{agregar_direccion_entrega}
      \umlassoc{Cliente}{eliminar_direccion_entrega}
      \umlassoc{Cliente}{actualizar_informacion}
      \umlassoc{Cliente}{agregar_forma_de_pago}
      \umlassoc{Cliente}{eliminar_forma_de_pago}
      \umlassoc{Cliente}{cerrar_sesion}
      \umlassoc{Cliente}{comprar}

      % Relaciones entre visitante y sus casos de uso.
      \umlassoc{Visitante}{registrar_cliente}
      \umlassoc{Visitante}{iniciar_sesion}
      \umlassoc{Visitante}{agregar_libro}
      \umlassoc{Visitante}{eliminar_libro}

      %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

      % Relaciones entre casos de uso %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
      % Comprar incluye agregar un libro
      \umlinclude{comprar}{agregar_libro}

      % Puedes eliminar (o no) un libro solo cuando lo agregas
      \umlextend{agregar_libro}{eliminar_libro}

      % Casi todo incluye a niciar sesión
      \umlinclude{agregar_direccion_entrega}{iniciar_sesion}
      \umlinclude{eliminar_direccion_entrega}{iniciar_sesion}
      \umlinclude{actualizar_informacion}{iniciar_sesion}
      \umlinclude{agregar_forma_de_pago}{iniciar_sesion}
      \umlinclude{eliminar_forma_de_pago}{iniciar_sesion}
      \umlinclude{cerrar_sesion}{iniciar_sesion}
      \umlinclude{comprar}{iniciar_sesion}

      %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \end{umlsystem}
  \end{tikzpicture}
}
%
% Caso de uso para iniciar el refresco de llaves.
% Capítulo de análisis y diseño de api web,
% Proyecto Lovelace.
%

\casoDeUso[cu:iniciar_refresco]
{Iniciar el refresco de llaves}
{
  Permite a un usuario tipo \textbf{cliente} iniciar el refresco de llaves.

  \begin{trayectoriaPrincipal}

    \item El cliente presiona \textit{Iniciar refresco de llaves} en la interfaz
      \hipervinculo{iu:control}.

    \item El sistema cambia el estado de todos los tokens relacionados a él, con
      estado \textbf{actual} a \textbf{anterior} (regla de negocio
      \hipervinculo{rn:estados_token}).

    \item El sistema cambia el estado de todas las llaves asociadas con el
      usuario en estado \textbf{actual} a \textbf{anterior} (regla de negocios
      \hipervinculo{rn:estados_llave}).

    \item El sistema crea un juego nuevo de llaves con estado \textbf{actual}
      y las asocia al cliente (regla de negocios
      \hipervinculo{rn:estados_llave}).

    \item El sistema cambia el estado del usuario a
      \textbf{en cambio de llaves} (regla de negocios
      \hipervinculo{rn:estados_cliente}).

  \end{trayectoriaPrincipal}
}
